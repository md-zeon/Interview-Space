# How will you use media queries to make a website responsive?

## What are Media Queries?

Media queries are CSS techniques that allow you to apply different styles based on the characteristics of the user's device or viewport. They are the cornerstone of responsive web design, enabling websites to adapt to different screen sizes, orientations, and device types.

### Basic Syntax

```css
/* Basic media query structure */
@media (condition) {
  /* CSS rules that apply when condition is met */
  selector {
    property: value;
  }
}

/* Example: Apply styles when viewport width is 768px or wider */
@media (min-width: 768px) {
  .container {
    width: 750px;
    margin: 0 auto;
  }
}
```

### How Media Queries Work

Media queries check for specific conditions about the user's device and only apply the contained CSS when those conditions are true. The browser evaluates media queries in real-time as the viewport changes.

## Media Query Features

### 1. Viewport Width (`width`, `min-width`, `max-width`)

```css
/* Apply when screen width is between 768px and 1024px */
@media (min-width: 768px) and (max-width: 1024px) {
  .container {
    width: 750px;
  }
}

/* Apply when screen width is exactly 768px */
@media (width: 768px) {
  .exactly-768 {
    background: yellow;
  }
}

/* Apply when width is at least 1200px */
@media (min-width: 1200px) {
  .large-screen {
    font-size: 18px;
  }
}
```

### 2. Viewport Height (`height`, `min-height`, `max-height`)

```css
/* Apply when height is at least 800px */
@media (min-height: 800px) {
  .tall-screen {
    padding-top: 100px;
  }
}

/* Aspect ratio considerations */
@media (max-height: 600px) {
  .header {
    padding: 20px; /* Reduce padding for short screens */
  }
}
```

### 3. Orientation (`orientation`)

```css
/* Portrait orientation (height > width) */
@media (orientation: portrait) {
  .portrait-layout {
    column-count: 1;
  }
}

/* Landscape orientation (width > height) */
@media (orientation: landscape) {
  .landscape-layout {
    column-count: 2;
  }
}
```

### 4. Device Pixel Ratio (`-webkit-device-pixel-ratio`, `resolution`)

```css
/* High DPI screens (retina displays) */
@media (-webkit-device-pixel-ratio: 2), (resolution: 2dppx) {
  .retina-image {
    background-image: url(high-res-image.jpg);
  }
}

/* Apply to very high resolution screens */
@media (min-resolution: 3dppx) {
  .ultra-high-res {
    font-size: 16px;
  }
}
```

### 5. Device Type (`device-width`, `device-height`)

```css
/* Apply based on device screen size, not viewport */
@media (device-width: 768px) and (device-height: 1024px) {
  /* iPad-specific styles */
  .ipad-layout {
    font-size: 18px;
  }
}

@media (max-device-width: 480px) {
  .mobile-device {
    /* Styles for mobile devices only */
  }
}
```

### 6. Color Capabilities (`color`, `color-gamut`, `color-index`)

```css
/* Minimum color depth */
@media (min-color: 8) {
  .color-supported {
    color: #007bff;
  }
}

/* Wide color gamut (P3 color space) */
@media (color-gamut: p3) {
  .wide-color {
    background: color(display-p3 1 0.5 0.2);
  }
}
```

### 7. Interactive Capabilities (`hover`, `pointer`, `any-hover`, `any-pointer`)

```css
/* Device supports hover (desktop mice, modern touch devices) */
@media (hover: hover) {
  .hover-capable {
    transition: all 0.3s ease;
  }
}

/* Fine pointer (mouse, trackpad) */
@media (pointer: fine) {
  .precision-pointer {
    cursor: pointer;
  }
}

/* Touch-only devices */
@media (hover: none) and (pointer: coarse) {
  .touch-only {
    /* Remove hover effects, increase touch targets */
    padding: 15px;
    min-height: 44px;
  }
}
```

### 8. Prefers Color Scheme (`prefers-color-scheme`)

```css
/* Light mode (default) */
.light-theme {
  background: white;
  color: #333;
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  .dark-theme {
    background: #333;
    color: white;
  }
}
```

### 9. Prefers Reduced Motion (`prefers-reduced-motion`)

```css
/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animated-element {
    animation: none;
    transition: none;
  }
}
```

## Responsive Breakpoints

### Common Breakpoint Strategy

```css
/* Mobile First Approach */

/* Base styles (mobile by default) */
.container {
  width: 100%;
  padding: 10px;
}

/* Small tablets (landscape phones, 576px and up) */
@media (min-width: 576px) {
  .container {
    max-width: 540px;
  }
}

/* Medium tablets (tablets, 768px and up) */
@media (min-width: 768px) {
  .container {
    max-width: 720px;
  }
}

/* Large tablets/desktops (desktops, 992px and up) */
@media (min-width: 992px) {
  .container {
    max-width: 960px;
  }
}

/* Extra large (large desktops, 1200px and up) */
@media (min-width: 1200px) {
  .container {
    max-width: 1140px;
  }
}
```

### Content-First Breakpoints

```css
/* Break when content breaks, not at fixed sizes */

/* Stack items vertically on small screens */
.flex-layout {
  flex-direction: column;
}

/* Horizontal layout on larger screens */
@media (min-width: 768px) {
  .flex-layout {
    flex-direction: row;
  }
}
```

## Mobile-First vs Desktop-First

### Mobile-First Approach (Recommended)

```css
/* Base styles for mobile */
.navigation {
  display: none; /* Hidden by default on mobile */
}

.mobile-menu-toggle {
  display: block;
}

/* Add features as screen gets larger */
@media (min-width: 768px) {
  .navigation {
    display: flex;
  }

  .mobile-menu-toggle {
    display: none;
  }
}

@media (min-width: 1024px) {
  .navigation li:hover {
    background: #f8f9fa;
  }
}
```

### Desktop-First Approach

```css
/* Start with desktop styles */
.navigation {
  display: flex;
  justify-content: space-between;
}

.sidebar {
  width: 300px;
  float: left;
}

/* Override for smaller screens */
@media (max-width: 767px) {
  .navigation {
    display: none;
  }

  .sidebar {
    width: 100%;
    float: none;
  }
}
```

## Practical Implementation

### Responsive Navigation

```html
<nav class="main-nav">
  <div class="logo">Site Logo</div>

  <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>

  <ul class="nav-menu">
    <li><a href="#home">Home</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#services">Services</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
</nav>
```

```css
.main-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: #333;
  color: white;
}

/* Desktop navigation */
.nav-menu {
  display: flex;
  list-style: none;
  gap: 20px;
  margin: 0;
}

.menu-toggle {
  display: none; /* Hidden on desktop */
  background: none;
  border: none;
  color: white;
  font-size: 24px;
}

/* Mobile navigation */
@media (max-width: 768px) {
  .main-nav {
    position: relative;
  }

  .nav-menu {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #333;
    flex-direction: column;
    padding: 1rem;
    display: none; /* Hidden by default */
  }

  .nav-menu.is-open {
    display: flex;
  }

  .menu-toggle {
    display: block;
  }
}
```

### Responsive Grid Layout

```html
<div class="grid-container">
  <div class="grid-item">Item 1</div>
  <div class="grid-item">Item 2</div>
  <div class="grid-item">Item 3</div>
  <div class="grid-item">Item 4</div>
  <div class="grid-item">Item 5</div>
  <div class="grid-item">Item 6</div>
</div>
```

```css
/* Base styles (1 column on mobile) */
.grid-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.grid-item {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 5px;
}

/* 2 columns on tablets */
@media (min-width: 576px) {
  .grid-container {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .grid-item {
    flex: 1 1 calc(50% - 5px);
  }
}

/* 3 columns on desktop */
@media (min-width: 768px) {
  .grid-item {
    flex: 1 1 calc(33.333% - 7px);
  }
}
```

### Responsive Typography

```css
/* Fluid typography */
.hero-title {
  font-size: 24px;
}

@media (min-width: 576px) {
  .hero-title {
    font-size: 32px;
  }
}

@media (min-width: 768px) {
  .hero-title {
    font-size: 48px;
  }
}

@media (min-width: 1200px) {
  .hero-title {
    font-size: 64px;
  }
}

/* Clamp for better fluid behavior */
@media (min-width: 768px) {
  .body-text {
    font-size: clamp(16px, 2vw, 24px);
  }
}
```

## Advanced Media Query Techniques

### Multiple Conditions

```css
/* AND operator (implicit) */
@media (min-width: 768px) and (max-width: 1024px) {
  /* Between 768px and 1024px */
}

/* OR operator with comma */
@media (orientation: landscape), (min-width: 1200px) {
  /* Either landscape OR min-width 1200px */
}
```

### Complex Queries

```css
/* High DPI landscape tablets */
@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2) {
  .retina-tablet {
    background-image: url(high-res-background.jpg);
  }
}

/* Large screens with reduced motion preference */
@media (min-width: 1400px) and (prefers-reduced-motion: reduce) {
  .large-screen-animation {
    animation: none;
  }
}
```

### Container Queries (Modern CSS)

```html
<div class="card-container">
  <div class="card">
    <h3>Card Title</h3>
    <p>Content that adapts to container size</p>
  </div>
</div>

<div class="sidebar-container">
  <div class="card">
    <h3>Card Title</h3>
    <p>Content adapts to this smaller container</p>
  </div>
</div>
```

```css
.card {
  padding: 16px;
}

.card-container {
  width: 400px; /* Larger container */
}

.sidebar-container {
  width: 200px; /* Smaller container */
}

/* Container query - respond to parent container, not viewport */
@container (min-width: 300px) {
  .card {
    padding: 24px;
    display: flex;
    gap: 16px;
  }

  .card h3 {
    margin: 0;
  }
}

@container (min-width: 400px) {
  .card {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
}
```

## Media Query Performance

### Best Practices

#### 1. Use `min-width` for Mobile-First (recommended)

```css
/* Mobile first approach */
.element { /* base mobile styles */ }

@media (min-width: 576px) { /* small tablets */ }
@media (min-width: 768px) { /* large tablets */ }
@media (min-width: 992px) { /* small desktops */ }
@media (min-width: 1200px) { /* large desktops */ }
```

#### 2. Combine Media Queries

```css
/* Combine related queries to reduce code duplication */
@media (min-width: 768px) {
  .component1 { /* styles */ }
  .component2 { /* styles */ }
  .component3 { /* styles */ }
}
```

#### 3. Avoid Over-Qualifying Selectors

```css
/* Slower - more specific selector */
@media (min-width: 768px) {
  body div.main-content article.post h2.post-title {
    font-size: 24px;
  }
}

/* Faster - less specific selector */
@media (min-width: 768px) {
  .post-title {
    font-size: 24px;
  }
}
```

#### 4. Use Logical Operators Efficiently

```css
/* Inefficient - browser evaluates both conditions */
@media (min-width: 768px) and (max-width: 1024px) {
  /* styles */
}

/* Better - use range with min-width for mobile-first */
@media (min-width: 768px) {
  /* applies from 768px up - what we really want */
}
```

## Debugging Media Queries

### Browser Developer Tools

```css
/* Add visual indicators for debugging */
@media (max-width: 768px) {
  body::before {
    content: "ðŸ“± Mobile";
    position: fixed;
    top: 0;
    left: 0;
    background: red;
    color: white;
    padding: 5px;
    z-index: 9999;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  body::before {
    content: "ðŸ“Ÿ Tablet";
    position: fixed;
    top: 0;
    left: 0;
    background: orange;
    color: white;
    padding: 5px;
    z-index: 9999;
  }
}

@media (min-width: 1025px) {
  body::before {
    content: "ðŸ’» Desktop";
    position: fixed;
    top: 0;
    left: 0;
    background: green;
    color: white;
    padding: 5px;
    z-index: 9999;
  }
}
```

### Online Testing Tools

- **Browser DevTools**: Device emulation, responsive design mode
- **Viewport Resizer**: Browser extension for quick breakpoint testing
- **Responsinator**: Online tool for viewing sites on different devices
- **BrowserStack**: Cross-browser testing

## Common Responsive Patterns

### Responsive Images

```html
<picture>
  <source media="(min-width: 1200px)" srcset="hero-large.jpg">
  <source media="(min-width: 768px)" srcset="hero-medium.jpg">
  <img src="hero-small.jpg" alt="Hero image">
</picture>
```

### Conditional Loading

```html
<!-- Load different components based on screen size -->
<div class="desktop-component" data-show-above="1024px">
  <!-- Complex desktop layout -->
</div>

<div class="mobile-component" data-show-below="1024px">
  <!-- Simplified mobile layout -->
</div>
```

### Responsive Tables

```html
<table class="responsive-table">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-label="Product">Widget A</td>
      <td data-label="Price">$10.99</td>
      <td data-label="Description">Great widget for tasks</td>
    </tr>
  </tbody>
</table>
```

```css
@media (max-width: 768px) {
  .responsive-table {
    font-size: 14px;
  }

  .responsive-table,
  .responsive-table thead,
  .responsive-table tbody,
  .responsive-table th,
  .responsive-table td,
  .responsive-table tr {
    display: block;
  }

  .responsive-table thead tr {
    position: absolute;
    top: -9999px;
    left: -9999px;
  }

  .responsive-table tr {
    margin-bottom: 15px;
    position: relative;
  }

  .responsive-table td {
    border: none;
    position: relative;
    padding-left: 50%;
  }

  .responsive-table td:before {
    position: absolute;
    top: 6px;
    left: 6px;
    width: 45%;
    padding-right: 10px;
    white-space: nowrap;
    content: attr(data-label);
    font-weight: bold;
  }
}
```

## Browser Support and Fallbacks

### Legacy Browser Support

```css
/* Fallback for older browsers */
.container {
  width: 960px;  /* Desktop default */
  margin: 0 auto;
}

/* Modern responsive behavior */
@media (max-width: 767px) {
  .container {
    width: 100%;
    padding: 0 15px;
  }
}
```

### Polyfills for Unsupported Features

```javascript
// Polyfill for unsupported media queries (if needed)
if (window.matchMedia) {
  var mq = window.matchMedia("(min-width: 768px)");
  mq.addListener(function(change) {
    if (change.matches) {
      // Media query matches
    } else {
      // Media query doesn't match
    }
  });
}
```

## Testing Strategy

### 1. Manual Testing

- **Chrome DevTools**: Toggle device toolbar, test different viewports
- **Browser resize**: Drag browser window to test breakpoints
- **Actual devices**: Test on real phones, tablets, laptops
- **Screen readers**: Test accessibility at different viewport sizes

### 2. Automated Testing

```javascript
// JavaScript viewport testing
const testBreakpoints = [320, 768, 1024, 1200];

testBreakpoints.forEach(width => {
  // Set viewport width
  document.body.style.width = width + 'px';

  // Test your responsive elements
  const container = document.querySelector('.container');
  console.log(`Width ${width}px:`, getComputedStyle(container).width);
});
```

### 3. CSS Testing Tools

```bash
# Use tools like CSS testing frameworks
npm install --save-dev stylelint
npm install --save-dev postcss-cssnext
```

## Summary

**Media queries enable responsive design by allowing conditional application of CSS based on device/viewport characteristics:**

**Viewport Dimensions:**
- `min-width`/`max-width`: Most common, preferred mobile-first approach
- `min-height`/`max-height`: For tall/short screens
- `orientation`: Portrait/landscape detection

**Device Capabilities:**
- `hover`/`pointer`: Detect interaction method
- `-webkit-device-pixel-ratio`: High DPI screens
- `prefers-color-scheme`: Dark/light mode
- `prefers-reduced-motion`: Motion sensitivity

**Best Practices:**
1. **Mobile-first**: Start with mobile styles, add complexity with larger screens
2. **Content-responsive**: Break at content breakpoints, not arbitrary sizes
3. **Performance-aware**: Use efficient selectors, combine related queries
4. **Accessibility-first**: Consider interaction preferences and touch targets
5. **Progressive enhancement**: Layer features based on capability

**Implementation Strategy:**
- Plan breakpoints based on content needs
- Use relative units (% , em, rem, vw/vh)
- Test thoroughly across devices
- Maintain consistent spacing and typography scales
- Consider performance implications

Media queries transform static websites into dynamic, device-adaptable experiences that work seamlessly across all screen sizes and device types.
