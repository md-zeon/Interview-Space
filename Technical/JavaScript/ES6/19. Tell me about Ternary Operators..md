# Tell me about Ternary Operators

The ternary operator is a conditional operator in JavaScript (and many other programming languages) that provides a compact way to write conditional expressions. It's called "ternary" because it takes three operands: a condition, a truthy value, and a falsy value.

## Syntax

```javascript
// Basic syntax
condition ? truthyExpression : falsyExpression

// Multiple lines for readability (optional)
condition
  ? truthyExpression
  : falsyExpression
```

## Basic Usage

### **Simple Conditional Assignment**
```javascript
// Traditional if-else
let status;
if (user.loggedIn) {
  status = 'Online';
} else {
  status = 'Offline';
}

// Ternary equivalent
const status = user.loggedIn ? 'Online' : 'Offline';

// Variable assignment
let message = score >= 80 ? 'Pass' : 'Fail';
```

### **Return Statements**
```javascript
function getDiscount(amount) {
  return amount > 1000 ? 0.1 : amount > 500 ? 0.05 : 0;
}

// Arrow function
const getStatus = (isActive) => isActive ? 'Active' : 'Inactive';
```

### **Function Arguments**
```javascript
// As function arguments
console.log(`User is ${isLoggedIn ? 'authenticated' : 'anonymous'}`);

// Array methods
const users = allUsers.filter(user => user.age >= (adultAge ? adultAge : 18));
```

## Nested Ternary Operators

### **Multiple Conditions**
```javascript
// Traditional way
let result;
if (score >= 90) {
  result = 'A';
} else if (score >= 80) {
  result = 'B';
} else if (score >= 70) {
  result = 'C';
} else {
  result = 'F';
}

// Nested ternary
const result = score >= 90 ? 'A'
              : score >= 80 ? 'B'
              : score >= 70 ? 'C'
              : 'F';

// More readable with parentheses (optional)
const grade = (score >= 90) ? 'A' :
              (score >= 80) ? 'B' :
              (score >= 70) ? 'C' : 'F';
```

⚠️ **Caution**: Deeply nested ternaries can be hard to read. Consider using if-else or switch for complex logic.

## Practical Examples

### **Conditional Styling (React-like)**
```javascript
const buttonClass = isActive ? 'btn btn-primary' : 'btn btn-secondary';
const textColor = theme === 'dark' ? '#ffffff' : '#000000';

// In JSX (React)
<div className={`card ${selected ? 'selected' : ''}`}>
  <h3 style={{ color: completed ? 'green' : 'red' }}>
    {completed ? '✓ Task Complete' : '○ Task Pending'}
  </h3>
</div>
```

### **API Response Handling**
```javascript
const handleResponse = (response) => {
  const message = response.success
    ? `Success: ${response.message}`
    : `Error: ${response.error}`;

  showNotification(message, response.success ? 'success' : 'error');
};
```

### **Form Validation**
```javascript
const getFieldError = (field, value) => {
  return value.length === 0
    ? `${field} is required`
    : value.length < 3
      ? `${field} must be at least 3 characters`
      : isValidFormat(value)
        ? null
        : `Invalid ${field} format`;
};

const error = getFieldError('Email', emailInput.value);
if (error) {
  displayError(error);
}
```

### **Data Transformation**
```javascript
const formatDate = (date) => {
  return date ? new Date(date).toLocaleDateString() : 'No date';
};

const userDisplay = {
  name: user.name,
  email: user.email,
  status: user.isOnline ? 'Online' : 'Offline',
  avatar: user.photoUrl || 'default-avatar.png',
  lastSeen: user.lastLogin ? formatDate(user.lastLogin) : 'Never'
};
```

### **Configuration Options**
```javascript
const API_BASE_URL = process.env.NODE_ENV === 'production'
  ? 'https://api.production.com'
  : 'http://localhost:3000';

const logLevel = DEBUG_MODE ? 'debug' : MINIMAL_LOGS ? 'warn' : 'error';
```

## Ternary vs Other Conditionals

### **When to Use Ternary**
✅ **Inline expressions**
✅ **Simple conditions**
✅ **Variable assignments**
✅ **Return statements**
✅ **Template literals**

```javascript
// Good use cases
const icon = isOpen ? 'chevron-up' : 'chevron-down';
const cssClass = active ? 'active' : 'inactive';
return count > 0 ? items : 'No items found';
```

### **When NOT to Use Ternary**
❌ **Complex logic**
❌ **Multiple statements**
❌ **Side effects**
❌ **Deep nesting**

### **Comparison with if-else**
```javascript
// Ternary - expression that returns a value
const message = isLoggedIn ? 'Welcome!' : 'Please log in';

// if-else - statement for control flow
let message;
if (isLoggedIn) {
  message = 'Welcome!';
  updateStats();
} else {
  message = 'Please log in';
  redirectToLogin();
}
```

## Advanced Patterns

### **Ternary with Logical Operators**
```javascript
// Short-circuiting with logical AND
const result = condition && (actionIfTrue ? valueIfTrue : valueIfFalse);

// Combining with optional chaining
const displayName = user?.name || 'Anonymous';

// Nullish coalescing
const theme = userPreferences?.theme ?? (darkMode ? 'dark' : 'light');
```

### **Ternary in Array Methods**
```javascript
const colors = ['red', 'blue', 'green'];
const displayColors = colors.map(color =>
  color === 'red' ? 'crimson' : color
);

const users = [
  { name: 'John', age: 25 },
  { name: 'Jane', age: 17 }
];

const userStatus = users.map(user => ({
  ...user,
  status: user.age >= 18 ? 'Adult' : 'Minor'
}));
```

### **Function Selection**
```javascript
// Choose function based on condition
const parseData = useNewParser ? parseWithNewLogic : parseWithOldLogic;

// In event handlers
const handleClick = isEditMode
  ? () => editItem(item)
  : () => viewItem(item);
```

### **Conditional Object Properties**
```javascript
const userPayload = {
  name: user.name,
  email: user.email,
  ...(user.phone && { phone: user.phone }),
  ...(user.address && { address: user.address }),
  role: isAdmin ? 'admin' : 'user'
};
```

## Performance Considerations

### **Evaluation Behavior**
```javascript
// Both true/false cases are evaluated in some engines
const result = expensiveOperation1() ? expensiveOperation2() : expensiveOperation3();

// In older JavaScript engines, both expensiveOperation2() and expensiveOperation3()
// would be evaluated even if only one is needed

// Modern engines optimize this, so performance is generally not an issue
```

### **Type Consistency**
```javascript
// Ensure both sides return compatible types
const age = getUserAge(user); // Might return number or null
const displayAge = age !== null ? age : 'Unknown';

// Good - consistent string return
const displayAge = age !== null ? age.toString() : 'Unknown';
```

## Common Mistakes and Pitfalls

### **Assignment vs Comparison**
```javascript
// Wrong - function returns undefined, then ternary assigns 42 or undefined
const result = console.log('Hello') ? 42 : undefined;

// Correct - compare first
const result = (x === 5) ? 42 : undefined;
```

### **Operator Precedence**
```javascript
// Wrong - + has higher precedence than ?
const result = score > 90 ? 'A' : score > 80 ? 'B' : 'C';  // 'A' or false or 'C'

// Correct - use parentheses
const result = score > 90 ? 'A' : (score > 80 ? 'B' : 'C');
```

### **Truthy/Falsy Confusion**
```javascript
// Can lead to unexpected results
const result = value ? 'true' : 'false';  // 'false' for 0, '', null, undefined

// Better - explicit comparison
const result = value !== null && value !== undefined ? value : 'default';
```

### **Missing Colon**
```javascript
// Syntax error - missing :
const message = isReady ? 'Go'; // Error!

// Correct
const message = isReady ? 'Go' : 'Wait';
```

## Alternatives to Ternary

### **Logical OR for Defaults**
```javascript
const name = user.name || 'Anonymous';  // Instead of user.name ? user.name : 'Anonymous'
```

### **Nullish Coalescing (ES2020)**
```javascript
const theme = userPreferences.theme ?? 'light';  // Instead of userPreferences.theme ? userPreferences.theme : 'light'
```

### **Switch Statements**
```javascript
// Better than nested ternary for multiple cases
const color = status === 'success' ? 'green' :
              status === 'warning' ? 'yellow' :
              status === 'error' ? 'red' :
              'gray';
```

### **Object Lookup**
```javascript
const statusConfig = {
  success: 'green',
  warning: 'yellow',
  error: 'red',
  default: 'gray'
};

const color = statusConfig[status] || statusConfig.default;
```

## Browser Support

The ternary operator is supported in all JavaScript engines - it's part of ES1 (1997).
- Internet Explorer 3+
- All modern browsers

## Interview Questions

### Q: What's the ternary operator in JavaScript?
**A**: It's a conditional operator that takes three operands: condition ? truthyValue : falsyValue. It returns one of two values based on a condition.

### Q: When would you use a ternary over an if-else?
**A**: Use ternary for simple, inline conditional expressions that return values. Use if-else for complex logic or statements with side effects.

### Q: Can you nest ternary operators?
**A**: Yes, but it can reduce readability. Use parentheses and consider if-else or switch for complex nested conditions.

### Q: What's the difference between `||` and ternary for defaults?
**A**: `||` returns the first truthy value, while ternary provides explicit control over both true and false cases.

### Q: Can the ternary operator have side effects?
**A**: Yes, but it's generally not recommended. The ternary is meant for expressions, not statements with side effects.

The ternary operator is powerful for writing concise conditional expressions, but readability should always be prioritized over brevity, especially in complex logic scenarios.
